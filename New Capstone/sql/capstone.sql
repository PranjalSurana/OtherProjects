DROP TABLE USERTABLE;
DROP TABLE USERPREFERENCE;
DROP TABLE STOCK;
DROP TABLE HOLDING;
DROP TABLE TRANSACTION;
DROP TABLE INSTRUMENT;
CREATE TABLE Instrument (
    instrumentId VARCHAR2(255) PRIMARY KEY,
    externalIdType VARCHAR2(255),
    externalId VARCHAR2(255),
    categoryId VARCHAR2(255),
    instrumentDescription VARCHAR2(255),
    maxQuantity NUMBER,
    minQuantity NUMBER
);
CREATE TABLE Holding (
    holdingId NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    instrumentId VARCHAR2(255),
    quantity NUMBER,
    buyPrice NUMBER,
    userId NUMBER,
    FOREIGN KEY (instrumentId) REFERENCES Instrument(instrumentId)
);
CREATE TABLE Stock (
    stockId NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    askPrice NUMBER,
    bidPrice NUMBER,
    priceTimestamp VARCHAR2(255),
    instrumentId VARCHAR2(255),
    FOREIGN KEY (instrumentId) REFERENCES Instrument(instrumentId)
);
CREATE TABLE Transaction (
    transactionId NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    instrumentId VARCHAR2(255),
    isBuy NUMBER,
    buySellPrice NUMBER,
    quantity NUMBER,
    transactionDate DATE,
    userId NUMBER,
    FOREIGN KEY (instrumentId) REFERENCES Instrument(instrumentId)
);
CREATE TABLE UserPreference (
    userPreferenceId NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    investmentPurpose VARCHAR2(255),
    riskTolerance VARCHAR2(255),
    incomeCategory VARCHAR2(255),
    lengthOfInvestment VARCHAR2(255),
    acceptedRoboAdvisor NUMBER,
    isEmpty NUMBER
);
CREATE TABLE UserTable (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    email VARCHAR2(255),
    personalName VARCHAR2(255),
    country VARCHAR2(255),
    dob VARCHAR2(255),
    riskAppetite VARCHAR2(255),
    userPreferenceId NUMBER,
    FOREIGN KEY (userPreferenceId) REFERENCES UserPreference(userPreferenceId)
);
INSERT INTO Instrument (instrumentId, externalIdType, externalId, categoryId, instrumentDescription, maxQuantity, minQuantity)
VALUES ('INST1', 'Type1', 'Ext1', 'Category1', 'Instrument 1 Description', 100, 10);
INSERT INTO Instrument (instrumentId, externalIdType, externalId, categoryId, instrumentDescription, maxQuantity, minQuantity)
VALUES ('INST2', 'Type2', 'Ext2', 'Category2', 'Instrument 2 Description', 200, 20);
INSERT INTO Instrument (instrumentId, externalIdType, externalId, categoryId, instrumentDescription, maxQuantity, minQuantity)
VALUES ('INST3', 'Type3', 'Ext3', 'Category3', 'Instrument 3 Description', 150, 15);
INSERT INTO Instrument (instrumentId, externalIdType, externalId, categoryId, instrumentDescription, maxQuantity, minQuantity)
VALUES ('INST4', 'Type4', 'Ext4', 'Category4', 'Instrument 4 Description', 180, 18);
INSERT INTO Instrument (instrumentId, externalIdType, externalId, categoryId, instrumentDescription, maxQuantity, minQuantity)
VALUES ('INST5', 'Type5', 'Ext5', 'Category5', 'Instrument 5 Description', 120, 12);
INSERT INTO Holding (instrumentId, quantity, buyPrice, userId)
VALUES ('INST1', 100, 50, 1);
INSERT INTO Holding (instrumentId, quantity, buyPrice, userId)
VALUES ('INST2', 200, 60, 2);
INSERT INTO Holding (instrumentId, quantity, buyPrice, userId)
VALUES ('INST3', 150, 45, 3);
INSERT INTO Holding (instrumentId, quantity, buyPrice, userId)
VALUES ('INST4', 180, 70, 4);
INSERT INTO Holding (instrumentId, quantity, buyPrice, userId)
VALUES ('INST5', 120, 55, 5);
INSERT INTO Stock (askPrice, bidPrice, priceTimestamp, instrumentId)
VALUES (50, 45, '2023-09-20', 'INST1');
INSERT INTO Stock (askPrice, bidPrice, priceTimestamp, instrumentId)
VALUES (60, 55, '2023-09-20', 'INST2');
INSERT INTO Stock (askPrice, bidPrice, priceTimestamp, instrumentId)
VALUES (45, 40, '2023-09-20', 'INST3');
INSERT INTO Stock (askPrice, bidPrice, priceTimestamp, instrumentId)
VALUES (70, 65, '2023-09-20', 'INST4');
INSERT INTO Stock (askPrice, bidPrice, priceTimestamp, instrumentId)
VALUES (55, 50, '2023-09-20', 'INST5');
INSERT INTO Transaction (instrumentId, isBuy, buySellPrice, quantity, transactionDate, userId)
VALUES ('INST1', 1, 52, 10, TO_DATE('2023-09-20', 'YYYY-MM-DD'), 1);
INSERT INTO Transaction (instrumentId, isBuy, buySellPrice, quantity, transactionDate, userId)
VALUES ('INST2', 0, 58, 15, TO_DATE('2023-09-20', 'YYYY-MM-DD'), 2);
INSERT INTO Transaction (instrumentId, isBuy, buySellPrice, quantity, transactionDate, userId)
VALUES ('INST3', 1, 47, 8, TO_DATE('2023-09-20', 'YYYY-MM-DD'), 3);
INSERT INTO Transaction (instrumentId, isBuy, buySellPrice, quantity, transactionDate, userId)
VALUES ('INST4', 0, 72, 12, TO_DATE('2023-09-20', 'YYYY-MM-DD'), 4);
INSERT INTO Transaction (instrumentId, isBuy, buySellPrice, quantity, transactionDate, userId)
VALUES ('INST5', 1, 54, 9, TO_DATE('2023-09-20', 'YYYY-MM-DD'), 5);
INSERT INTO UserPreference (investmentPurpose, riskTolerance, incomeCategory, lengthOfInvestment, acceptedRoboAdvisor, isEmpty)
VALUES ('Purpose1', 'High', 'IncomeCat1', 'Long', 1, 0);
INSERT INTO UserPreference (investmentPurpose, riskTolerance, incomeCategory, lengthOfInvestment, acceptedRoboAdvisor, isEmpty)
VALUES ('Purpose2', 'Medium', 'IncomeCat2', 'Medium', 0, 0);
INSERT INTO UserPreference (investmentPurpose, riskTolerance, incomeCategory, lengthOfInvestment, acceptedRoboAdvisor, isEmpty)
VALUES ('Purpose3', 'Low', 'IncomeCat3', 'Short', 1, 0);
INSERT INTO UserPreference (investmentPurpose, riskTolerance, incomeCategory, lengthOfInvestment, acceptedRoboAdvisor, isEmpty)
VALUES ('Purpose4', 'High', 'IncomeCat4', 'Long', 0, 1);
INSERT INTO UserPreference (investmentPurpose, riskTolerance, incomeCategory, lengthOfInvestment, acceptedRoboAdvisor, isEmpty)
VALUES ('Purpose5', 'Medium', 'IncomeCat5', 'Medium', 1, 0);
INSERT INTO UserTable (email, personalName, country, dob, riskAppetite, userPreferenceId)
VALUES ('user1@example.com', 'User 1', 'Country1', '1990-01-01', 'High', 1);
INSERT INTO UserTable (email, personalName, country, dob, riskAppetite, userPreferenceId)
VALUES ('user2@example.com', 'User 2', 'Country2', '1995-02-15', 'Medium', 2);
INSERT INTO UserTable (email, personalName, country, dob, riskAppetite, userPreferenceId)
VALUES ('user3@example.com', 'User 3', 'Country3', '1985-03-30', 'Low', 3);
INSERT INTO UserTable (email, personalName, country, dob, riskAppetite, userPreferenceId)
VALUES ('user4@example.com', 'User 4', 'Country4', '1980-04-20', 'High', 4);
INSERT INTO UserTable (email, personalName, country, dob, riskAppetite, userPreferenceId)
VALUES ('user5@example.com', 'User 5', 'Country5', '1998-05-10', 'Medium', 5);
COMMIT;